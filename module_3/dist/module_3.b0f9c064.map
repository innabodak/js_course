{"version":3,"sources":["ui_controller.js","index.js"],"names":["UIController","inputCard","document","getElementById","inputName","getInfobtn","cardPattern","namePattern","addEventListener","value","style","border","test","removeAttribute","cardNum","split","join","fetch","then","res","status","json","Promise","reject","ui_controller","cardValidation","nameValidation","getInfo"],"mappings":"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","file":"module_3.b0f9c064.map","sourceRoot":"..","sourcesContent":["\r\nexport default  class UIController {\r\n    constructor(){\r\n        this.inputCard = document.getElementById(\"inpCard\");\r\n        this.inputName = document.getElementById(\"inpName\");\r\n        this.getInfobtn = document.getElementById(\"getInfo\");\r\n        this.cardPattern = /^\\d{4}-\\d{4}-\\d{4}-\\d{4}$/;\r\n        this.namePattern = /^[A-z]{2,}$/;\r\n    }\r\n\r\n    cardValidation(){\r\n        this.inputCard.addEventListener(\"blur\", () => {\r\n            if (this.inputCard.value === \"\"){\r\n                this.inputCard.style.border = \"1px solid lightgrey\";\r\n            } \r\n            else if(this.cardPattern.test(this.inputCard.value)){\r\n                this.inputCard.style.border = \"2px solid green\";\r\n            } \r\n            else {\r\n                this.inputCard.style.border = \"2px solid red\";\r\n            }\r\n        });\r\n    }\r\n    \r\n    nameValidation(){\r\n        this.inputName.addEventListener(\"blur\", () => {\r\n            if (!this.inputName.value){\r\n                this.inputName.style.border = \"1px solid lightgrey\";\r\n            } \r\n            else if(this.namePattern.test(this.inputName.value)){\r\n                this.inputName.style.border = \"2px solid green\";\r\n            } \r\n            else {\r\n                this.inputName.style.border = \"2px solid red\";\r\n            }\r\n        });\r\n    }\r\n\r\n    getInfo(){\r\n        this.getInfobtn.addEventListener(\"blur\", () => {\r\n            if(this.cardPattern.test(this.inputCard.value)\r\n                && this.namePattern.test(this.inputName.value)) {\r\n                this.getInfobtn.removeAttribute(\"disabled\");\r\n            }\r\n        })\r\n\r\n        this.cardNum = this.inputCard.value.split(\"-\").join(\"\");\r\n        this.getInfobtn.addEventListener(\"click\", () => {\r\n            return fetch(`https://api.bincodes.com/cc/?format=json&api_key=d96ca493f5be297f8c304a87edcdf6a8&cc=${this.cardNum}`)\r\n            .then(res => {\r\n                if(res.status === 200){\r\n                    return res.json();\r\n                }\r\n                return Promise.reject(res.status);\r\n            })\r\n        })\r\n    }\r\n}\r\n","\r\nimport UIController from \"./ui_controller\";\r\n// import MaskInput from 'mask-input';\r\n// const maskInput = new MaskInput(document.querySelector(\"#inpCard\"), {\r\n//   mask: '0000-0000-0000-0000',\r\n//   maskChar: '_',\r\n//   onChange: ui_controller.cardValidation(),\r\n// })\r\n\r\nconst ui_controller = new UIController();\r\nui_controller.cardValidation();\r\nui_controller.nameValidation();\r\nui_controller.getInfo();\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]}